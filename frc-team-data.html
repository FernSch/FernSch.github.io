<!DOCTYPE html>
<html>
  <head>
    <title>FRC Team Data Card Generator</title>
    <link rel="stylesheet" type="text/css" href="style.css">
    <script>
      function generateCard() {
        const teamNum = document.getElementById("team_num_data").value;
        const apiUrl = `https://api.statbotics.io/v2/team/${teamNum}`;

        fetch(apiUrl)
          .then(response => {
            if (!response.ok) {
              throw new Error("Failed to fetch team data");
            }
            return response.json();
          })
          .then(data => {
            const canvas = document.getElementById("team_card");
            canvas.height = 300;
            canvas.width = 900;
            const ctx = canvas.getContext("2d");
            const bgColor = generateRandomPastelColor();
            ctx.fillStyle = bgColor;
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.fillStyle = "#000000";
            ctx.font = "bold 64px Arial";
            const teamName = data["name"];
            const teamNumber = data["number"];
            const country = data["country"];
            const rookieYear = data["rookie_year"];
            const winRate = data["wlt"]["win"] / data["wlt"]["total"] * 100;
            const fullWinRate = `${winRate.toFixed(2)}%`;
            ctx.fillText(`${teamName} ${teamNumber}`, 30, 100);
            ctx.font = "bold 32px Arial";
            ctx.fillText(`Country: ${country}`, 30, 160);
            ctx.fillText(`Rookie Year: ${rookieYear}`, 30, 200);
            ctx.fillText(`Full Winrate: ${fullWinRate}`, 30, 240);
            const img = canvas.toDataURL("image/png");
            const imgElem = document.createElement("img");
            imgElem.src = img;
            imgElem.alt = `${teamName} ${teamNumber} Card`;
            imgElem.width = 300;
            imgElem.height = 900;
